name: Terraform Plan

on:
    workflow_dispatch:

jobs:
    terraform:
        name: 'Terraform Plan'
        runs-on: ubuntu-latest

        steps:
        - name: Checkout
          uses: actions/checkout@v4

        - name: Setup Terraform
          uses: hashicorp/setup-terraform@v3

        - name: Terraform Init
          run: terraform -chdir=infra init

        - name: Terraform Plan
          run: terraform -chdir=infra plan